<feed xmlns="http://www.w3.org/2005/Atom"> <id>https://blog.zwt.io/</id><title>招文桃</title><subtitle>记录开发日常</subtitle> <updated>2023-08-04T16:24:13+08:00</updated> <author> <name>zwt</name> <uri>https://blog.zwt.io/</uri> </author><link rel="self" type="application/atom+xml" href="https://blog.zwt.io/feed.xml"/><link rel="alternate" type="text/html" hreflang="zh-CN" href="https://blog.zwt.io/"/> <generator uri="https://jekyllrb.com/" version="4.3.2">Jekyll</generator> <rights> © 2023 zwt </rights> <icon>/assets/img/favicons/favicon.ico</icon> <logo>/assets/img/favicons/favicon-96x96.png</logo> <entry><title>创建 PVE debian cloud-init 模板</title><link href="https://blog.zwt.io/linux/2023/08/04/creating-pve-debian-cloud-init-template/" rel="alternate" type="text/html" title="创建 PVE debian cloud-init 模板" /><published>2023-08-04T11:22:00+08:00</published> <updated>2023-08-04T16:23:43+08:00</updated> <id>https://blog.zwt.io/linux/2023/08/04/creating-pve-debian-cloud-init-template/</id> <content src="https://blog.zwt.io/linux/2023/08/04/creating-pve-debian-cloud-init-template/" /> <author> <name>招文桃</name> </author> <category term="Linux" /> <summary> 本文记录如何在 PVE 8.0.3 环境使用 debian 12 bookworm 的 cloud-init 镜像创建虚拟机模板，并进行一些定制化，例如预装一些常用软件包，修改 apt 源为国内镜像，和修改系统时区。 下载镜像 搜索 debian cloud init image 找到下载页面。 有好几种镜像种类，看到页面描述：”generic: Should run in any environment using cloud-init, for e.g. OpenStack, DigitalOcean and also on bare metal.” ，应该下载这种镜像，因为有包含了 cloud-init. 我们要下载 debian 12 bookworm，所以进入到 bookworm 的目录，再进入到 latest 然后选择下载适合 PVE 节点具体架构的镜... </summary> </entry> <entry><title>允许高版本 maven 使用 http 私有仓库</title><link href="https://blog.zwt.io/java/2023/03/23/maven-default-http-blocker-override/" rel="alternate" type="text/html" title="允许高版本 maven 使用 http 私有仓库" /><published>2023-03-23T17:58:00+08:00</published> <updated>2023-04-03T10:41:10+08:00</updated> <id>https://blog.zwt.io/java/2023/03/23/maven-default-http-blocker-override/</id> <content src="https://blog.zwt.io/java/2023/03/23/maven-default-http-blocker-override/" /> <author> <name>招文桃</name> </author> <category term="Java" /> <summary> 高版本的 maven 默认会阻止使用 http 协议，仅支持 https 协议。但是如果本地网络私有仓库有 maven 的包，需要用到 http 的 repository 例如在工程的 pom.xml 文件里面，假设是这样的： &amp;lt;repositories&amp;gt; &amp;lt;repository&amp;gt; &amp;lt;snapshots&amp;gt; &amp;lt;enabled&amp;gt;false&amp;lt;/enabled&amp;gt; &amp;lt;/snapshots&amp;gt; &amp;lt;id&amp;gt;central&amp;lt;/id&amp;gt; &amp;lt;name&amp;gt;libs-release&amp;lt;/name&amp;gt; &amp;lt;url&amp;gt;http://my-url/libs-release&amp;lt;/ur... </summary> </entry> <entry><title>在 ESXi 使用 Cloud-init 安装系统的例子</title><link href="https://blog.zwt.io/linux/2023/03/20/esxi-cloud-init-example/" rel="alternate" type="text/html" title="在 ESXi 使用 Cloud-init 安装系统的例子" /><published>2023-03-20T22:16:00+08:00</published> <updated>2023-04-03T11:19:40+08:00</updated> <id>https://blog.zwt.io/linux/2023/03/20/esxi-cloud-init-example/</id> <content src="https://blog.zwt.io/linux/2023/03/20/esxi-cloud-init-example/" /> <author> <name>招文桃</name> </author> <category term="Linux" /> <summary> 在 pve 使用 cloud-init 镜像 相对来说简单一些，要在 ESXi 中使用 cloud-init 镜像，步骤就繁琐一点。本文记录一下在 ESXi-7.0U3f-20036589-standard 中使用 cloud-init 镜像安装并配置 Ubuntu Server Jammy 的步骤。 下载 VMDK 文件 首先去 Ubuntu 的 cloud-images 网站下载对应版本的 VMDK 文件，用于 ESXi 新创建的虚拟机磁盘。 创建虚拟机 将 VMDK 上传到 ESXi 的存储目录，一路按默认步骤创建虚拟机，去到自定义设置的时候，删掉默认设置的硬盘。虚拟机创建好之后，在存储浏览器那里可以看到有个以虚拟机名称命名的目录。将 VMDK 文件复制一份到这个目录里面作为这个新建的虚拟机的硬盘。用复制而不是直接移动过去，是为了可以之后可以继续复用这个 VMDK. ... </summary> </entry> <entry><title>Linux 的 chattr 命令用途</title><link href="https://blog.zwt.io/linux/2023/03/08/linux-chattr-command-usage/" rel="alternate" type="text/html" title="Linux 的 chattr 命令用途" /><published>2023-03-08T09:53:00+08:00</published> <updated>2023-03-08T09:53:00+08:00</updated> <id>https://blog.zwt.io/linux/2023/03/08/linux-chattr-command-usage/</id> <content src="https://blog.zwt.io/linux/2023/03/08/linux-chattr-command-usage/" /> <author> <name>招文桃</name> </author> <category term="Linux" /> <summary> 第一次使用 chattr 应该是在 安装Spring Boot应用作为系统服务 里： 如果被黑了，黑客可以将 jar 文件设为可写的并修改它的内容。其中一种防护方式是将它设置为不可修改的，通过使用 chattr 命令，命令如下： $ sudo chattr +i your-app.jar 这会防止任何用户，包括 root 修改 jar 的内容。 所以本文就列举一下 chttr 的用途。 最常用的 一般会使用 sudo chattr +i 文件名 来将某个文件设为不可修改，连 root 也不能修改。 man page 说明如下： i A file with the ‘i’ attribute cannot be modified: it cannot be deleted or renamed, no link can be created to... </summary> </entry> <entry><title>在 pve 使用 cloud-init 镜像</title><link href="https://blog.zwt.io/virtualization/2023/02/24/proxmox-cloud-init-images/" rel="alternate" type="text/html" title="在 pve 使用 cloud-init 镜像" /><published>2023-02-24T14:20:00+08:00</published> <updated>2023-02-24T15:34:58+08:00</updated> <id>https://blog.zwt.io/virtualization/2023/02/24/proxmox-cloud-init-images/</id> <content src="https://blog.zwt.io/virtualization/2023/02/24/proxmox-cloud-init-images/" /> <author> <name>招文桃</name> </author> <category term="Virtualization" /> <summary> 使用 cloud images 和 cloud-init 可以很方便地在 pve 创建一个快捷高效的虚拟机克隆模板。首先选择自己偏好的 cloud image，例如 Ubuntu 的可以在 Ubuntu cloud init 镜像 下载， CentOS 的可以在 Centos cloud images 下载。 提供下载的镜像有好几种格式， ubuntu 的一般用 img 就可以，centos 下载 qcow2c 就可以，后面导入的时候都会转换成 raw 格式。 下载好所需的镜像之后（假设下载的是 jammy-server-cloudimg-amd64.img ），就开始按以下步骤制作虚拟机模板： 创建一个新的虚拟机 qm create 8000 --memory 2048 --core 2 --name ubuntu-cloud --net0 virtio,bridge=vm... </summary> </entry> </feed>
